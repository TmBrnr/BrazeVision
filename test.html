<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Liquid Syntax Test</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
      line-height: 1.6;
    }
    
    .test-section {
      margin: 20px 0;
      padding: 15px;
      background: #f5f5f5;
      border-radius: 5px;
    }
    
    .test-section h3 {
      margin-top: 0;
      color: #333;
    }
  </style>
</head>
<body>
  <h1>Liquid Syntax Highlighter Test Page</h1>
  
  <div class="test-section">
    <h3>Complex Content Blocks (The Problem Case)</h3>
    <p>This should preserve the variable name and show the filter:</p>
    <div>{{content_blocks.${code_createSalutation} | id: 'cb1'}}</div>
  </div>
  
  <div class="test-section">
    <h3>Variable with Filters</h3>
    <p>Testing various filter combinations:</p>
    <div>{{user_name | capitalize | default: "Guest"}}</div>
    <div>{{email_address | truncate: 50 | strip}}</div>
    <div>{{products | limit: 5}}</div>
  </div>
  
  <div class="test-section">
    <h3>Complex Variable Paths</h3>
    <p>Testing nested object access:</p>
    <div>{{custom_attribute.${favorite_color}}}</div>
    <div>{{product.ProductId}}</div>
    <div>{{content_blocks.header.title}}</div>
  </div>
  
  <div class="test-section">
    <h3>Control Flow Tags</h3>
    <p>Testing loop and conditional statements:</p>
    <div>{% for item in products limit: 3 %}</div>
    <div>{% if custom_attribute.${user_level} == "premium" %}</div>
    <div>{% assign recos = {{custom_attribute.${Recommendations}}} %}</div>
    <div>{% endif %}</div>
    <div>{% endfor %}</div>
  </div>
  
  <div class="test-section">
    <h3>Catalog Operations</h3>
    <p>Testing data fetching:</p>
    <div>{% catalog_items products {{product}} %}</div>
    <div>{% catalog_items recommendations custom_attribute.${product_ids} %}</div>
  </div>
  
  <div class="test-section">
    <h3>Edge Cases</h3>
    <p>Testing problematic patterns:</p>
    <div>{{ andn }}</div>
    <div>{{</div>
    <div>}}</div>
    <div>{{incomplete</div>
    <div>incomplete}}</div>
  </div>
  
  <div class="test-section">
    <h3>Mode Switch Test</h3>
    <p>Try switching between Friendly and Technical modes using the extension popup - the transformations should change!</p>
    <div>{% for product in recommended_products limit: 4 %}</div>
    <div>{{content_blocks.${header_template} | default: "Default Header"}}</div>
    <div>{% endfor %}</div>
  </div>
</body>
</html> 